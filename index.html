<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Infinity-Vectors Diagnostic</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <style>
    :root {
      --bg: #0b1120;
      --panel: #111827;
      --accent: #0ea5e9;
      --muted: #94a3b8;
      --danger: #f43f5e;
      --ok: #22c55e;
    }
    body {
      margin:0;
      background: radial-gradient(circle at top, #0f172a 0%, #020617 70%);
      color:#e2e8f0;
      font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }
    .shell {
      background: rgba(15, 23, 42, .6);
      border:1px solid rgba(14,165,233,.3);
      border-radius:18px;
      max-width:660px;
      width:100%;
      box-shadow:0 20px 40px rgba(0,0,0,.25);
      backdrop-filter: blur(10px);
      padding:20px 22px 24px;
    }
    h1 {
      margin:0 0 6px 0;
      font-size:28px;
      letter-spacing:.04em;
    }
    .tagline {
      color:var(--muted);
      margin-bottom:18px;
    }
    .row {
      background: rgba(2,6,23,.4);
      border:1px solid rgba(148,163,184,.08);
      border-radius:12px;
      padding:12px 14px 10px;
      margin-bottom:12px;
    }
    .label {
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.14em;
      color:var(--muted);
      margin-bottom:3px;
    }
    .val {
      font-weight:600;
      font-size:15px;
      word-break:break-all;
    }
    .pill {
      display:inline-flex;
      gap:5px;
      align-items:center;
      background:rgba(14,165,233,.12);
      border:1px solid rgba(14,165,233,.3);
      padding:4px 11px;
      border-radius:999px;
      font-size:12px;
      margin-bottom:10px;
    }
    .warn {
      background: rgba(244,63,94,.14);
      border-color: rgba(244,63,94,.35);
      color:#ffe4e6;
    }
    .ok {
      background: rgba(34,197,94,.12);
      border-color: rgba(34,197,94,.35);
      color:#dcfce7;
    }
    #admin-box {
      display:none;
      margin-top:14px;
    }
    textarea {
      width:100%;
      min-height:80px;
      border-radius:10px;
      border:1px solid rgba(148,163,184,.15);
      background:rgba(15,23,42,.3);
      color:#e2e8f0;
      padding:8px 10px;
      font-family: ui-monospace, SFMono-Regular, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      resize:vertical;
    }
    button {
      background: linear-gradient(135deg, #0ea5e9, #38bdf8);
      color:#0f172a;
      border:0;
      border-radius:10px;
      padding:7px 14px;
      font-weight:600;
      cursor:pointer;
      margin-top:7px;
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="pill">üö© Infinity-Vectors ¬∑ diagnostic page</div>
    <h1>Infinity-Vectors</h1>
    <div class="tagline">Use this page to check: ‚ÄúAm I on the right file? Is localStorage being read?‚Äù</div>

    <div id="warn-block" class="row warn" style="display:none;">
      <div class="label">Status</div>
      <div class="val">No Infinity data in localStorage for this origin. You might be on the wrong page / wrong branch / wrong domain.</div>
    </div>

    <div class="row">
      <div class="label">Current user (localStorage: <code>infinity_current_user</code>)</div>
      <div class="val" id="ls-user">‚Äî</div>
    </div>

    <div class="row">
      <div class="label">Session token (localStorage: <code>infinity_session_token</code>)</div>
      <div class="val" id="ls-token">‚Äî</div>
    </div>

    <div class="row">
      <div class="label">GitHub admin cfg (localStorage: <code>infinity_admin_github</code>)</div>
      <div class="val" id="ls-ghcfg">‚Äî</div>
    </div>

    <div id="admin-box" class="row">
      <div class="label">Admin (you are Kris)</div>
      <div class="val">You should see this box ‚Äî so admin-protected UI is working on this page.</div>
      <textarea id="gh-content" placeholder="Paste something to push later..."></textarea>
      <button onclick="alert('this is just the diagnostic page ‚Äî pushing code lives in the full portal version');">Push (demo)</button>
    </div>
  </div>

  <script>
    // read LS
    const user = localStorage.getItem('infinity_current_user');
    const token = localStorage.getItem('infinity_session_token');
    const ghcfg = localStorage.getItem('infinity_admin_github');

    // show
    document.getElementById('ls-user').textContent = user || '‚õî not set';
    document.getElementById('ls-token').textContent = token || '‚õî not set';
    document.getElementById('ls-ghcfg').textContent = ghcfg || '‚õî not set';

    // if nothing, show warning
    if (!user && !token && !ghcfg) {
      document.getElementById('warn-block').style.display = 'block';
    }

    // if user is Kris -> show admin box
    if ((user || '').toLowerCase() === 'kris') {
      document.getElementById('admin-box').style.display = 'block';
    }
  </script>
</body>
</html>
