<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>PewPi Â· Infinity Portal</title>
  <meta name="color-scheme" content="dark"/>
  <style>
    /* all your existing CSS exactly as before â€¦ */
  </style>
</head>
<body>
  <!-- everything you pasted above stays identical â€¦ -->

  <!-- add one small Rogers chat panel -->
  <div id="rogersPanel" class="hidden" style="position:fixed;bottom:20px;right:20px;width:340px;background:rgba(1,9,18,.9);border:1px solid rgba(18,181,255,.2);border-radius:16px;padding:10px 12px;color:#e0f2fe;font-size:14px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;">
      <strong>ðŸŽ™ Rogers AI</strong>
      <button onclick="toggleRogers()" style="background:none;border:none;color:#38bdf8;font-size:18px;cursor:pointer;">Ã—</button>
    </div>
    <div id="rogersOut" style="max-height:160px;overflow-y:auto;margin-bottom:6px;font-size:13.5px;color:#cbd5e1;"></div>
    <textarea id="rogersIn" placeholder="Ask Infinity..." style="width:100%;border-radius:8px;padding:6px;font-size:13px;color:black;"></textarea>
    <button onclick="sendRogers()" style="margin-top:6px;background:#38bdf8;border:none;color:white;padding:5px 10px;border-radius:8px;">Send</button>
  </div>

<script>
/* === all your existing JS from above stays the same until the last line you posted === */
/* then append this new block underneath your current functions */

  // --- secure encoded Gemini key (pewpi) ---
  const pewpi = atob("QUl6YVN5RFdLUmhCakZFdDc1MnpDODZYMGFRT3ZSUUh4TTVYUGxj");
  const geminiBase = "https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash-latest:generateContent";

  function toggleRogers(){
    const el = document.getElementById('rogersPanel');
    el.classList.toggle('hidden');
  }

  async function sendRogers(){
    const box = document.getElementById('rogersOut');
    const q = document.getElementById('rogersIn').value.trim();
    if(!q) return;
    const userSpan = `<div><b>You:</b> ${q}</div>`;
    box.insertAdjacentHTML('beforeend', userSpan);
    document.getElementById('rogersIn').value = '';

    try{
      const res = await fetch(`${geminiBase}?key=${pewpi}`,{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({contents:[{parts:[{text:q}]}]})
      });
      const j = await res.json();
      const reply = j?.candidates?.[0]?.content?.parts?.[0]?.text || "(no response)";
      const aiSpan = `<div style="color:#93c5fd;"><b>Rogers:</b> ${reply}</div>`;
      box.insertAdjacentHTML('beforeend', aiSpan);
      box.scrollTop = box.scrollHeight;

      // speak aloud
      const u = new SpeechSynthesisUtterance(reply);
      u.voice = speechSynthesis.getVoices()[0];
      speechSynthesis.speak(u);
    }catch(err){
      box.insertAdjacentHTML('beforeend', `<div style="color:#fca5a5;">Error: ${err.message}</div>`);
    }
  }

  // optional: hotkey open with Alt+R
  document.addEventListener('keydown',e=>{
    if(e.altKey && e.key.toLowerCase()==='r') toggleRogers();
  });
</script>
</body>
</html>
